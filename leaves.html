<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>Branches + Leaves</title>

<style>
html, body {
  margin: 0;
  height: 100%;
  width: 100%;
  background: transparent;
  overflow: hidden;
}
svg {
  position: absolute;
  bottom: 35%;
  left: 0;
  width: 100%;
  height: 65%;
}
path {
  fill: none;
  stroke: #120a04; /* dark brown trunk color */
  stroke-width: 4;
  stroke-linecap: round;
}
ellipse {
  opacity: 0.9;
}
</style>
</head>

<body>
<svg id="tree"></svg>

<script>
const svg = document.getElementById("tree");
const width = window.innerWidth;
const height = window.innerHeight;
const baseX = width / 2;
const baseY = height * 0.65;

function rand(min, max) {
  return Math.random() * (max - min) + min;
}

// autumn palette only
const colors = ["#a0522d", "#b87333", "#cd853f", "#d2691e", "#ff8c00", "#c04000", "#804000"];

// draw leaf
function drawLeaf(x, y) {
  const rx = rand(3, 6);
  const ry = rand(6, 9);
  const rotation = rand(0, 360);
  const color = colors[Math.floor(rand(0, colors.length))];
  const leaf = document.createElementNS("http://www.w3.org/2000/svg", "ellipse");
  leaf.setAttribute("cx", x);
  leaf.setAttribute("cy", y);
  leaf.setAttribute("rx", rx);
  leaf.setAttribute("ry", ry);
  leaf.setAttribute("fill", color);
  leaf.setAttribute("transform", `rotate(${rotation} ${x} ${y})`);
  svg.appendChild(leaf);
}

// generate branches + leaves
const branchCount = Math.floor(rand(4, 7));

for (let i = 0; i < branchCount; i++) {
  const startY = baseY - rand(height * 0.05, height * 0.3);
  const startX = baseX + rand(-5, 5);
  const endX = baseX + rand(-width * 0.25, width * 0.25);
  const endY = startY - rand(height * 0.05, height * 0.2);
  const curveX = (startX + endX) / 2 + rand(-50, 50);
  const curveY = (startY + endY) / 2 - rand(50, 100);

  // draw branch
  const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
  path.setAttribute("d", `M ${startX},${startY} Q ${curveX},${curveY} ${endX},${endY}`);
  svg.appendChild(path);

  // attach leaves to branch tip
  const leafCount = Math.floor(rand(2, 5));
  for (let j = 0; j < leafCount; j++) {
    const offsetX = rand(-15, 15);
    const offsetY = rand(-15, 15);
    drawLeaf(endX + offsetX, endY + offsetY);
  }
}
</script>
</body>
</html>
